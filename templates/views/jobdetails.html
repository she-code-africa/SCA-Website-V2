{% extends "layouts/jobpost.html" %} {% block content %}
<div class="container __register">
    <section class="jobs __register_welcome">
        <div class="flex-center">
            <div class="__register_welcome_text">
                <a class="logo" href="/">
                    <img src="../../images/she-code-africa-logo.svg" class="__shecodelogo">
                </a>
                <div class="welcome_text">
                    <h2 class="text-center">Job Details</h2>
                </div>

            </div>
            <div>
                <a title="go back" href="/jobs" class="close">&#215;</a>
            </div>
        </div>
    </section>
    {{emailmessage}}
    <section class="__register_form __jobdetails">
        {% if errorMessage %}
        <div class="alert alert-danger flex-center">
            {{errorMessage}}
        </div>
        {% endif %}
        <form class="flex-center" method="POST">
            <input type="hidden" name="action" value="">
            <div class="form-group">
                <input type="text" name="title" class="form-control" placeholder="Job Title *"
                    value="{{formData.title}}" required>
            </div>

            <div class="form-group">
                <select name="categories" id="categories" class="form-control" value="{{formData.categories}}" required>

                    <option value="" disabled selected hidden>Job Type*</option>
                    {% for i in data.categories %}
                    <option value="{{i.id}}">{{i.name}}</option>
                    {% endfor%}
                    <option value="other">Other</option>
                </select>
            </div>

            <div class="form-group" style="display: none;" id="specialization">
                <input type="text" name="specialization" class="form-control" placeholder="Specialization *"
                    value="{{formData.categories}}">
            </div>

            <div class="form-group">
                <input type="text" title="Application Deadline " onfocus="(this.type='date')"
                    onblur="(this.type='text')" name="deadline" class="form-control"
                    placeholder="Application Deadline *" value="{{formData.deadline}}" required>
            </div>

            <div class="form-group">
                <!-- <input type="text" name="minimumExperience" class="form-control" placeholder="Minimum Experience *" value="{{formData.minimumExperience}}" required> -->
                <textarea name="minimumExperience" class="form-control job-desc" placeholder="Minimum Experience *"
                    rows="3" value="{{formData.minimumExperience}}" required></textarea>
            </div>

            <div class="form-group">
                <textarea name="jobDescription" class="form-control job-desc" rows="8" placeholder="Job Description *"
                    value="{{formData.jobDescription}}" required></textarea>
            </div>

            <div class="form-group">
                <input type="text" name="salaryRange" class="form-control" value="{{formData.salaryRange}}"
                    placeholder="Salary Range (e.g 150,000 - 200,000)" required>
            </div>

            <div class="form-group">
                <input type="url" name="applicationLink" class="form-control" placeholder="Application Website *"
                    value="{{formData.applicationLink}}" required>
            </div>

            <button type="submit" class="btn sca-btn pink-btn">
                SUBMIT JOB DETAILS
            </button>
            <!-- href="/success" -->
        </form>
    </section>
</div>
<script>
    var category = document.getElementById("categories");
    var specialization = document.getElementById("specialization");
    category.onchange = function () {
        if (category.value === "other") {
            specialization.style.display = "block";
            console.log('here 1')
            document.getElementById("specialization").required = true;
            console.log('here 2')
            document.getElementById("specialization").setAttribute("required", "true");
            // specialization.setAttribute("required", "true");
        } else {
            specialization.style.display = "none";
            specialization.required = false;
            specialization.removeAttribute("required");
        }
    }
</script>
{% endblock %}